{% extends 'blog/base.html' %}

{% block title %}All Posts - My Blog{% endblock %}

{% block content %}
<h1>Blog Posts</h1>

{% if posts %}
    {% for post in posts %}
        <article style="margin-bottom: 30px; padding-bottom: 20px; border-bottom: 1px solid #ddd;">
            <h2>
                <a href="{% url 'blog:post_detail' slug=post.slug %}" style="color: #2c3e50; text-decoration: none;">
                    {{ post.title }}
                </a>
            </h2>
            <p style="color: #777; font-size: 14px; margin: 10px 0;">
                By <strong>{{ post.author.username }}</strong> |
                Published on {{ post.created_at|date:"F d, Y" }}
                {% if post.category %}
                    | Category:
                    <a href="{% url 'blog:category_detail' slug=post.category.slug %}" style="color: #3498db;">
                        {{ post.category.name }}
                    </a>
                {% endif %}
            </p>

            {% if post.tags.all %}
                <p style="margin: 10px 0;">
                    <strong>Tags:</strong>
                    {% for tag in post.tags.all %}
                        <a href="{% url 'blog:tag_detail' slug=tag.slug %}"
                           style="display: inline-block; background-color: #ecf0f1; color: #2c3e50;
                                  padding: 3px 8px; margin: 2px; border-radius: 3px;
                                  text-decoration: none; font-size: 13px;">
                            {{ tag.name }}
                        </a>
                    {% endfor %}
                </p>
            {% endif %}

            <p>{{ post.content|truncatewords:50 }}</p>
            <a href="{% url 'blog:post_detail' slug=post.slug %}" style="color: #3498db; text-decoration: none;">
                Read more â†’
            </a>
        </article>
    {% endfor %}
{% else %}
    <p>No posts available yet. Check back soon!</p>
{% endif %}
{% endblock %}
